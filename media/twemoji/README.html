<h1 id="Twitter-Emoji-Twemoji"><a href="#Twitter-Emoji-Twemoji" class="headerlink" title="Twitter Emoji (Twemoji) "></a>Twitter Emoji (Twemoji) <a href="https://travis-ci.org/twitter/twemoji" target="_blank" rel="noopener"><img src="https://travis-ci.org/twitter/twemoji.svg?branch=gh-pages" class="lazyload" data-srcset="https://travis-ci.org/twitter/twemoji.svg?branch=gh-pages" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Build Status"></a></h1><p>A simple library that provides standard Unicode <a href="http://en.wikipedia.org/wiki/Emoji" target="_blank" rel="noopener">emoji</a> support across all platforms.</p>
<p><strong>Twemoji v12.0</strong> adheres to the <a href="https://unicode.org/versions/Unicode12.0.0/" target="_blank" rel="noopener">Unicode 12.0 spec</a> and supports the <a href="https://www.unicode.org/reports/tr51/tr51-16.html" target="_blank" rel="noopener">Emoji 12.0 spec</a></p>
<p>The Twemoji library offers support for <strong>3,075</strong> emojis.</p>
<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><h3 id="CDN-Support"><a href="#CDN-Support" class="headerlink" title="CDN Support"></a>CDN Support</h3><p>The folks over at <a href="https://www.maxcdn.com" target="_blank" rel="noopener">MaxCDN</a> have graciously provided CDN support.</p>
<p>Use the following in the <code>&lt;head&gt;</code> tag of your HTML document(s):</p>
<pre><code class="html"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://twemoji.maxcdn.com/v/latest/twemoji.min.js"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></code></pre>
<p>This guarantees that you will always use the latest version of the library.</p>
<p>If, instead, you’d like to include the latest version explicitly, you can add the following tag:</p>
<pre><code class="html"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://twemoji.maxcdn.com/v/12.1.6/twemoji.min.js"</span> <span class="attr">integrity</span>=<span class="string">"sha384-XfulzVp257jTD4j8TtghtZ75YaRE+O+F2brm/dAHuawJEvzeoco+4c0Q1bm5ha3M"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></code></pre>
<h3 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h3><p>If instead you want to download a specific version, please look at the <code>gh-pages</code> branch, where you will find the built assets for both our latest and older versions.</p>
<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>Following are all the methods exposed in the <code>twemoji</code> namespace.</p>
<h3 id="twemoji-parse-…-V1"><a href="#twemoji-parse-…-V1" class="headerlink" title="twemoji.parse( … ) V1"></a>twemoji.parse( … ) V1</h3><p>This is the main parsing utility and has 3 overloads per parsing type.</p>
<p>There are mainly two kinds of parsing: <a href="https://github.com/twitter/twemoji#string-parsing" target="_blank" rel="noopener">string parsing</a> and <a href="https://github.com/twitter/twemoji#dom-parsing" target="_blank" rel="noopener">DOM parsing</a>.</p>
<p>Each of them accepts a callback to generate an image source or an options object with parsing info.</p>
<p>Here is a walkthrough of all parsing possibilities:</p>
<h4 id="DOM-parsing"><a href="#DOM-parsing" class="headerlink" title="DOM parsing"></a>DOM parsing</h4><p>In contrast to <code>string</code> parsing, if the first argument is an <code>HTMLElement</code>, generated image tags will replace emoji that are <strong>inside <code>#text</code> nodes only</strong> without compromising surrounding nodes or listeners, and completely avoiding the usage of <code>innerHTML</code>.</p>
<p>If security is a major concern, this parsing can be considered the safest option but with a slight performance penalty due to DOM operations that are inevitably <em>costly</em>.</p>
<pre><code class="js"><span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);
div.textContent = <span class="string">'I \u2764\uFE0F emoji!'</span>;
<span class="built_in">document</span>.body.appendChild(div);

twemoji.parse(<span class="built_in">document</span>.body);

<span class="keyword">var</span> img = div.querySelector(<span class="string">'img'</span>);

<span class="comment">// note the div is preserved</span>
img.parentNode === div; <span class="comment">// true</span>

img.src;        <span class="comment">// https://twemoji.maxcdn.com/v/latest/72x72/2764.png</span>
img.alt;        <span class="comment">// \u2764\uFE0F</span>
img.className;  <span class="comment">// emoji</span>
img.draggable;  <span class="comment">// false</span>
</code></pre>
<p>All other overloads described for <code>string</code> are available in exactly the same way for DOM parsing.</p>
<h3 id="Object-as-parameter"><a href="#Object-as-parameter" class="headerlink" title="Object as parameter"></a>Object as parameter</h3><p>Here’s the list of properties accepted by the optional object that can be passed to the <code>parse</code> function.</p>
<pre><code class="js">{
  callback: <span class="built_in">Function</span>,   <span class="comment">// default the common replacer</span>
  attributes: <span class="built_in">Function</span>, <span class="comment">// default returns {}</span>
  base: string,         <span class="comment">// default MaxCDN</span>
  ext: string,          <span class="comment">// default ".png"</span>
  className: string,    <span class="comment">// default "emoji"</span>
  size: string|number,  <span class="comment">// default "72x72"</span>
  folder: string        <span class="comment">// in case it's specified</span>
                        <span class="comment">// it replaces .size info, if any</span>
}</code></pre>
<h4 id="callback"><a href="#callback" class="headerlink" title="callback"></a>callback</h4><p>The function to invoke in order to generate image <code>src</code>(s).</p>
<p>By default it is a function like the following one:</p>
<pre><code class="js"><span class="function"><span class="keyword">function</span> <span class="title">imageSourceGenerator</span>(<span class="params">icon, options</span>) </span>{
  <span class="keyword">return</span> <span class="string">''</span>.concat(
    options.base, <span class="comment">// by default Twitter Inc. CDN</span>
    options.size, <span class="comment">// by default "72x72" string</span>
    <span class="string">'/'</span>,
    icon,         <span class="comment">// the found emoji as code point</span>
    options.ext   <span class="comment">// by default ".png"</span>
  );
}</code></pre>
<h4 id="base"><a href="#base" class="headerlink" title="base"></a>base</h4><p>The default url is the same as <code>twemoji.base</code>, so if you modify the former, it will reflect as default for all parsed strings or nodes.</p>
<h4 id="ext"><a href="#ext" class="headerlink" title="ext"></a>ext</h4><p>The default image extension is the same as <code>twemoji.ext</code> which is <code>&quot;.png&quot;</code>.</p>
<p>If you modify the former, it will reflect as default for all parsed strings or nodes.</p>
<h4 id="className"><a href="#className" class="headerlink" title="className"></a>className</h4><p>The default <code>class</code> for each generated image is <code>emoji</code>. It is possible to specify a different one through this property.</p>
<h5 id="size"><a href="#size" class="headerlink" title="size"></a>size</h5><p>The default asset size is the same as <code>twemoji.size</code> which is <code>&quot;72x72&quot;</code>.</p>
<p>If you modify the former, it will reflect as default for all parsed strings or nodes.</p>
<h4 id="folder"><a href="#folder" class="headerlink" title="folder"></a>folder</h4><p>In case you don’t want to specify a size for the image. It is possible to choose a folder, as in the case of SVG emoji.</p>
<pre><code class="js">twemoji.parse(genericNode, {
  folder: <span class="string">'svg'</span>,
  ext: <span class="string">'.svg'</span>
});</code></pre>
<p>This will generate urls such <code>https://twemoji.maxcdn.com/svg/2764.svg</code> instead of using a specific size based image.</p>
<h2 id="Utilities"><a href="#Utilities" class="headerlink" title="Utilities"></a>Utilities</h2><p>Basic utilities / helpers to convert code points to JavaScript surrogates and vice versa.</p>
<h3 id="twemoji-convert-fromCodePoint"><a href="#twemoji-convert-fromCodePoint" class="headerlink" title="twemoji.convert.fromCodePoint()"></a>twemoji.convert.fromCodePoint()</h3><p>For a given HEX codepoint, returns UTF-16 surrogate pairs.</p>
<pre><code class="js">twemoji.convert.fromCodePoint(<span class="string">'1f1e8'</span>);
 <span class="comment">// "\ud83c\udde8"</span></code></pre>
<h3 id="twemoji-convert-toCodePoint"><a href="#twemoji-convert-toCodePoint" class="headerlink" title="twemoji.convert.toCodePoint()"></a>twemoji.convert.toCodePoint()</h3><p>For given UTF-16 surrogate pairs, returns the equivalent HEX codepoint.</p>
<pre><code class="js">twemoji.convert.toCodePoint(<span class="string">'\ud83c\udde8\ud83c\uddf3'</span>);
<span class="comment">// "1f1e8-1f1f3"</span>

twemoji.convert.toCodePoint(<span class="string">'\ud83c\udde8\ud83c\uddf3'</span>, <span class="string">'~'</span>);
<span class="comment">// "1f1e8~1f1f3"</span></code></pre>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><h3 id="Inline-Styles"><a href="#Inline-Styles" class="headerlink" title="Inline Styles"></a>Inline Styles</h3><p>If you’d like to size the emoji according to the surrounding text, you can add the following CSS to your stylesheet:</p>
<pre><code class="css"><span class="selector-tag">img</span><span class="selector-class">.emoji</span> {
   <span class="attribute">height</span>: <span class="number">1em</span>;
   <span class="attribute">width</span>: <span class="number">1em</span>;
   <span class="attribute">margin</span>: <span class="number">0</span> .<span class="number">05em</span> <span class="number">0</span> .<span class="number">1em</span>;
   <span class="attribute">vertical-align</span>: -<span class="number">0.1em</span>;
}</code></pre>
<p>This will make sure emoji derive their width and height from the <code>font-size</code> of the text they’re shown with. It also adds just a little bit of space before and after each emoji, and pulls them upwards a little bit for better optical alignment.</p>
<h3 id="UTF-8-Character-Set"><a href="#UTF-8-Character-Set" class="headerlink" title="UTF-8 Character Set"></a>UTF-8 Character Set</h3><p>To properly support emoji, the document character set must be set to UTF-8. This can done by including the following meta tag in the document <code>&lt;head&gt;</code></p>
<pre><code class="html"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></code></pre>
<h3 id="Exclude-Characters-V1"><a href="#Exclude-Characters-V1" class="headerlink" title="Exclude Characters (V1)"></a>Exclude Characters (V1)</h3><p>To exclude certain characters from being replaced by twemoji.js, call twemoji.parse() with a callback, returning false for the specific unicode icon. For example:</p>
<pre><code class="js">twemoji.parse(<span class="built_in">document</span>.body, {
    callback: <span class="function"><span class="keyword">function</span>(<span class="params">icon, options, variant</span>) </span>{
        <span class="keyword">switch</span> ( icon ) {
            <span class="keyword">case</span> <span class="string">'a9'</span>:      <span class="comment">// © copyright</span>
            <span class="keyword">case</span> <span class="string">'ae'</span>:      <span class="comment">// ® registered trademark</span>
            <span class="keyword">case</span> <span class="string">'2122'</span>:    <span class="comment">// ™ trademark</span>
                <span class="keyword">return</span> <span class="literal">false</span>;
        }
        <span class="keyword">return</span> <span class="string">''</span>.concat(options.base, options.size, <span class="string">'/'</span>, icon, options.ext);
    }
});</code></pre>
<h2 id="Legacy-API-V1"><a href="#Legacy-API-V1" class="headerlink" title="Legacy API (V1)"></a>Legacy API (V1)</h2><p>If you’re still using our V1 API, you can read our legacy documentation <a href="https://github.com/twitter/twemoji/tree/master/LEGACY.md" target="_blank" rel="noopener">here</a>.</p>
<h2 id="Contributing"><a href="#Contributing" class="headerlink" title="Contributing"></a>Contributing</h2><p>The contributing documentation can be found <a href="https://github.com/twitter/twemoji/tree/master/CONTRIBUTING.md" target="_blank" rel="noopener">here</a>.</p>
<h2 id="Attribution-Requirements"><a href="#Attribution-Requirements" class="headerlink" title="Attribution Requirements"></a>Attribution Requirements</h2><p>As an open source project, attribution is critical from a legal, practical and motivational perspective in our opinion. The graphics are licensed under the CC-BY 4.0 which has a pretty good guide on <a href="https://wiki.creativecommons.org/Best_practices_for_attribution" target="_blank" rel="noopener">best practices for attribution</a>.</p>
<p>However, we consider the guide a bit onerous and as a project, will accept a mention in a project README or an ‘About’ section or footer on a website. In mobile applications, a common place would be in the Settings/About section (for example, see the mobile Twitter application Settings-&gt;About-&gt;Legal section). We would consider a mention in the HTML/JS source sufficient also.</p>
<h2 id="Community-Projects"><a href="#Community-Projects" class="headerlink" title="Community Projects"></a>Community Projects</h2><ul>
<li><a href="https://github.com/SebastianAigner/twemoji-amazing" target="_blank" rel="noopener">Twemoji Amazing</a> by <a href="https://github.com/SebastianAigner" target="_blank" rel="noopener">@SebastianAigner</a>: Use Twemoji using CSS classes (like <a href="http://fortawesome.github.io/Font-Awesome/" target="_blank" rel="noopener">Font Awesome</a>).</li>
<li><a href="https://github.com/jollygoodcode/twemoji" target="_blank" rel="noopener">Twemoji Ruby</a> by <a href="https://twitter.com/jollygoodcode" target="_blank" rel="noopener">@JollyGoodCode</a>: Use Twemoji in Ruby.</li>
<li><a href="https://github.com/nathanielw/Twemoji-for-Pencil" target="_blank" rel="noopener">Twemoji for Pencil</a> by <a href="https://twitter.com/nathanielnw" target="_blank" rel="noopener">@Nathanielnw</a>: Use Twemoji in Pencil.</li>
<li><a href="http://github.frenchw.net/FrwTwemoji/" target="_blank" rel="noopener">FrwTwemoji - Twemoji in dotnet</a> by <a href="https://twitter.com/frenchw" target="_blank" rel="noopener">@FrenchW</a>: Use Twemoji in any dotnet project (C#, asp.net …).</li>
<li><a href="https://github.com/datenstrom/yellow-extensions/tree/master/features/emojiawesome" target="_blank" rel="noopener">Emojiawesome - Twemoji for Yellow</a> by <a href="https://github.com/datenstrom/" target="_blank" rel="noopener">@datenstrom</a>: Use Twemoji on your website.</li>
<li><a href="https://github.com/danbovey/EmojiPanel" target="_blank" rel="noopener">EmojiPanel for Twitter</a> by <a href="https://twitter.com/danielbovey/status/749580050274582528" target="_blank" rel="noopener">@danielbovey</a>: Insert Twemoji into your tweets on twitter.com.</li>
<li><a href="https://github.com/eosrei/twemoji-color-font" target="_blank" rel="noopener">Twitter Color Emoji font</a> by <a href="https://twitter.com/bderickson" target="_blank" rel="noopener">@bderickson</a>: Use Twemoji as your system default font on Linux &amp; OS X.</li>
<li><a href="https://github.com/xoudini/emojica" target="_blank" rel="noopener">Emojica</a> by <a href="https://twitter.com/xoudini" target="_blank" rel="noopener">@xoudini</a>: An iOS framework allowing you to replace all standard emoji in strings with Twemoji.</li>
<li>[Unmaintained] <a href="http://ellekasai.github.io/twemoji-awesome/" target="_blank" rel="noopener">Twemoji Awesome</a> by <a href="https://twitter.com/ellekasai/" target="_blank" rel="noopener">@ellekasai</a>: Use Twemoji using CSS classes (like <a href="http://fortawesome.github.io/Font-Awesome/" target="_blank" rel="noopener">Font Awesome</a>).</li>
</ul>
<h2 id="Committers-and-Contributors"><a href="#Committers-and-Contributors" class="headerlink" title="Committers and Contributors"></a>Committers and Contributors</h2><ul>
<li>Bryan Haggerty (Twitter)</li>
<li>Nathan Downs (Twitter)</li>
<li>Tom Wuttke (ex-Twitter)</li>
<li>Andrea Giammarchi (ex-Twitter)</li>
<li>Joen Asmussen (WordPress)</li>
<li>Marcus Kazmierczak (WordPress)</li>
</ul>
<p>The goal of this project is to simply provide emoji for everyone. We definitely welcome improvements and fixes, but we may not merge every pull request suggested by the community due to the simple nature of the project.</p>
<p>The rules for contributing are available in the <code>CONTRIBUTING.md</code> file.</p>
<p>Thank you to all of our <a href="https://github.com/twitter/twemoji/graphs/contributors" target="_blank" rel="noopener">contributors</a>.</p>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>Copyright 2019 Twitter, Inc and other contributors</p>
<p>Code licensed under the MIT License: <a href="http://opensource.org/licenses/MIT" target="_blank" rel="noopener">http://opensource.org/licenses/MIT</a></p>
<p>Graphics licensed under CC-BY 4.0: <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">https://creativecommons.org/licenses/by/4.0/</a></p>
